{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/olympic.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@swimlane/ngx-charts\";\nfunction DashboardComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h1\");\n    i0.ɵɵtext(2, \"Medals per country\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\")(4, \"li\")(5, \"p\");\n    i0.ɵɵtext(6, \"Number of JOs\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"li\")(10, \"p\");\n    i0.ɵɵtext(11, \"Number of countries\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"ngx-charts-pie-chart\", 2);\n    i0.ɵɵlistener(\"select\", function DashboardComponent_div_0_Template_ngx_charts_pie_chart_select_14_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSelect($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.numberOfJOs);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.numberOfCountries);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"results\", ctx_r1.medalsPerCountry)(\"labels\", true)(\"gradient\", true)(\"tooltipText\", ctx_r1.customTooltipText);\n  }\n}\nexport class DashboardComponent {\n  constructor(olympicService, router) {\n    this.olympicService = olympicService;\n    this.router = router;\n    this.medalsPerCountry = [];\n    this.numberOfJOs = 0;\n    this.numberOfCountries = 0;\n    this.isDataLoaded = false;\n  }\n  ngOnInit() {\n    this.olympicService.getOlympics().subscribe(data => {\n      this.numberOfJOs = data[0].participations.length;\n      this.numberOfCountries = data.length;\n      data.forEach(element => {\n        let country = element.country;\n        let numberOfMedals = 0;\n        element.participations.forEach(participation => {\n          numberOfMedals += participation.medalsCount;\n        });\n        this.medalsPerCountry.push({\n          name: country,\n          value: numberOfMedals\n        });\n      });\n      this.isDataLoaded = true;\n    });\n  }\n  onSelect(event) {\n    const countryName = event.name;\n    this.router.navigate(['/country', countryName]);\n  }\n  customTooltipText(medal) {\n    return `${medal.data.name}<br>&#x1F3C5;${medal.data.value}`;\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.OlympicService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"chart-container\", 4, \"ngIf\"], [1, \"chart-container\"], [3, \"select\", \"results\", \"labels\", \"gradient\", \"tooltipText\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, DashboardComponent_div_0_Template, 15, 6, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isDataLoaded);\n      }\n    },\n    dependencies: [i3.NgIf, i4.PieChartComponent],\n    styles: [\".chart-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n  ngx-tooltip-content.ngx-charts-tooltip-content.type-tooltip {\\n  font-size: 1rem;\\n  font-weight: 300;\\n  background-color: #00838E;\\n  color: white;\\n  box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.2);\\n}\\n  ngx-tooltip-content.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top {\\n  border-top-color: #00838E;\\n  box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.2);\\n}\\n\\nul[_ngcontent-%COMP%] {\\n  list-style-type: none;\\n  display: flex;\\n  gap: 20px;\\n  padding-inline-start: 0px;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n}\\n\\nli[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  border-radius: 0.5rem;\\n  border: 2px solid #00838E;\\n  padding: 0.5rem 1rem 0.5rem 1rem;\\n}\\nli[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin-top: 0.2rem;\\n  margin-bottom: 0.2rem;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  padding-inline: 1rem;\\n}\\nli[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child {\\n  color: grey;\\n  font-size: 1.3rem;\\n}\\nli[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child {\\n  font-size: 1.3rem;\\n  font-weight: 700;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  background-color: #00838E;\\n  color: white;\\n  font-weight: 400;\\n  font-style: normal;\\n  padding: 0.5rem 1rem 0.5rem 1rem;\\n  border-radius: 0.5rem;\\n}\\n\\nngx-charts-pie-chart[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n@media screen and (max-width: 480px) {\\n  .chart-container[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  ngx-charts-pie-chart[_ngcontent-%COMP%] {\\n    max-height: 5vh;\\n  }\\n  ul[_ngcontent-%COMP%] {\\n    gap: 10px;\\n    padding-left: none !important;\\n  }\\n  li[_ngcontent-%COMP%] {\\n    padding: 0.2rem;\\n  }\\n  li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    font-size: 1rem;\\n    text-align: center;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQUNGOztBQUVBO0VBTUUsZUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsMkNBQUE7QUFKRjtBQUxFO0VBQ0UseUJBQUE7RUFDQSwyQ0FBQTtBQU9KOztBQUdBO0VBQ0UscUJBQUE7RUFDQSxhQUFBO0VBQ0EsU0FBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtFQUNBLHVCQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtFQUNBLGdDQUFBO0FBQUY7QUFFRTtFQUNFLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0Esb0JBQUE7QUFBSjtBQUdFO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0FBREo7QUFJRTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7QUFGSjs7QUFPQTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQ0FBQTtFQUNBLHFCQUFBO0FBSkY7O0FBT0E7RUFDRSxPQUFBO0FBSkY7O0FBT0E7RUFDRTtJQUNFLFdBQUE7RUFKRjtFQU9BO0lBQ0UsZUFBQTtFQUxGO0VBUUE7SUFDRSxTQUFBO0lBQ0EsNkJBQUE7RUFORjtFQVNBO0lBQ0UsZUFBQTtFQVBGO0VBUUU7SUFDRSxlQUFBO0lBQ0Esa0JBQUE7RUFOSjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmNoYXJ0LWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuOjpuZy1kZWVwIG5neC10b29sdGlwLWNvbnRlbnQubmd4LWNoYXJ0cy10b29sdGlwLWNvbnRlbnQudHlwZS10b29sdGlwIHtcbiAgLnRvb2x0aXAtY2FyZXQucG9zaXRpb24tdG9wIHtcbiAgICBib3JkZXItdG9wLWNvbG9yOiAjMDA4MzhFO1xuICAgIGJveC1zaGFkb3c6IDAgNnB4IDIwcHggMCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cblxuICBmb250LXNpemU6IDFyZW07XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDgzOEU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm94LXNoYWRvdzogMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4yKTtcbn1cblxudWx7XG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiAyMHB4O1xuICBwYWRkaW5nLWlubGluZS1zdGFydDogMHB4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG5saXtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IC41cmVtO1xuICBib3JkZXI6IDJweCBzb2xpZCAjMDA4MzhFO1xuICBwYWRkaW5nOiAuNXJlbSAxcmVtIC41cmVtIDFyZW07XG5cbiAgcHtcbiAgICBtYXJnaW4tdG9wOiAuMnJlbTtcbiAgICBtYXJnaW4tYm90dG9tOiAuMnJlbTtcbiAgICB3aWR0aDpmaXQtY29udGVudDtcbiAgICBwYWRkaW5nLWlubGluZTogMXJlbTtcbiAgfVxuXG4gIHA6Zmlyc3QtY2hpbGR7XG4gICAgY29sb3I6IGdyZXk7XG4gICAgZm9udC1zaXplOiAxLjNyZW07XG4gIH1cblxuICBwOmxhc3QtY2hpbGR7XG4gICAgZm9udC1zaXplOiAxLjNyZW07XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgfVxufVxuXG5cbmgxe1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA4MzhFO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgcGFkZGluZzogLjVyZW0gMXJlbSAuNXJlbSAxcmVtO1xuICBib3JkZXItcmFkaXVzOiAuNXJlbTtcbn1cblxubmd4LWNoYXJ0cy1waWUtY2hhcnQge1xuICBmbGV4OiAxO1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0ODBweCkge1xuICAuY2hhcnQtY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIG5neC1jaGFydHMtcGllLWNoYXJ0IHtcbiAgICBtYXgtaGVpZ2h0OiA1dmg7XG4gIH1cblxuICB1bHtcbiAgICBnYXA6IDEwcHg7XG4gICAgcGFkZGluZy1sZWZ0OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cblxuICBsaXtcbiAgICBwYWRkaW5nOiAuMnJlbTtcbiAgICBwe1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIH1cbiAgfVxuXG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","DashboardComponent_div_0_Template_ngx_charts_pie_chart_select_14_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onSelect","ɵɵadvance","ɵɵtextInterpolate","numberOfJOs","numberOfCountries","ɵɵproperty","medalsPerCountry","customTooltipText","DashboardComponent","constructor","olympicService","router","isDataLoaded","ngOnInit","getOlympics","subscribe","data","participations","length","forEach","element","country","numberOfMedals","participation","medalsCount","push","name","value","event","countryName","navigate","medal","_","ɵɵdirectiveInject","i1","OlympicService","i2","Router","_2","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","ɵɵtemplate","DashboardComponent_div_0_Template"],"sources":["/Users/joannyprignol/code/JoPrignol/oc-project-2/src/app/dashboard/dashboard.component.ts","/Users/joannyprignol/code/JoPrignol/oc-project-2/src/app/dashboard/dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { OlympicService } from '../core/services/olympic.service';\nimport { Router } from '@angular/router';\nimport { MedalsPerCountry } from '../core/models/MedalsPerCountry';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrl: './dashboard.component.scss'\n})\n\nexport class DashboardComponent implements OnInit {\n\n  medalsPerCountry: MedalsPerCountry[] = [];\n  numberOfJOs: number = 0;\n  numberOfCountries: number = 0;\n\n  isDataLoaded = false;\n\n  constructor(private olympicService: OlympicService, private router: Router) {}\n\n  ngOnInit(): void {\n\n    this.olympicService.getOlympics().subscribe(data => {\n\n      this.numberOfJOs = data[0].participations.length;\n      this.numberOfCountries = data.length;\n\n      data.forEach((element: {country: string, participations: Array<{medalsCount: number}>}) => {\n\n        let country = element.country;\n\n        let numberOfMedals = 0;\n\n        element.participations.forEach((participation: {medalsCount: number}) => {\n          numberOfMedals += participation.medalsCount;\n        });\n        this.medalsPerCountry.push({name: country, value: numberOfMedals});\n      });\n      this.isDataLoaded = true;\n    });\n  }\n\n  onSelect(event: MedalsPerCountry): void {\n    const countryName = event.name;\n\n    this.router.navigate(['/country', countryName]);\n  }\n\n  customTooltipText(medal: {data : {name : string, value : number}}): string {\n    return `${medal.data.name}<br>&#x1F3C5;${medal.data.value}`\n  }\n}\n","<div *ngIf=\"isDataLoaded\" class=\"chart-container\">\n  <h1>Medals per country</h1>\n  <ul>\n    <li>\n      <p>Number of JOs</p>\n      <p>{{ numberOfJOs }}</p>\n    </li>\n    <li>\n      <p>Number of countries</p>\n      <p>{{ numberOfCountries }}</p>\n    </li>\n  </ul>\n\n  <ngx-charts-pie-chart\n      [results]=\"medalsPerCountry\"\n      [labels]=\"true\"\n      [gradient]=\"true\"\n      [tooltipText]=\"customTooltipText\"\n      (select)=\"onSelect($event)\">\n  </ngx-charts-pie-chart>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}